import"./main-6911ccd0.js";var g=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D="Expected a function",I=0/0,F="[object Symbol]",H=/^\s+|\s+$/g,N=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,B=/^0o[0-7]+$/i,_=parseInt,q=typeof g=="object"&&g&&g.Object===Object&&g,G=typeof self=="object"&&self&&self.Object===Object&&self,U=q||G||Function("return this")(),X=Object.prototype,z=X.toString,J=Math.max,K=Math.min,j=function(){return U.Date.now()};function Q(e,t,i){var o,r,l,a,s,f,u=0,E=!1,d=!1,y=!0;if(typeof e!="function")throw new TypeError(D);t=O(t)||0,C(i)&&(E=!!i.leading,d="maxWait"in i,l=d?J(O(i.maxWait)||0,t):l,y="trailing"in i?!!i.trailing:y);function h(n){var c=o,p=r;return o=r=void 0,u=n,a=e.apply(p,c),a}function P(n){return u=n,s=setTimeout(m,t),E?h(n):a}function R(n){var c=n-f,p=n-u,x=t-c;return d?K(x,l-p):x}function L(n){var c=n-f,p=n-u;return f===void 0||c>=t||c<0||d&&p>=l}function m(){var n=j();if(L(n))return w(n);s=setTimeout(m,R(n))}function w(n){return s=void 0,y&&o?h(n):(o=r=void 0,a)}function A(){s!==void 0&&clearTimeout(s),u=0,o=f=r=s=void 0}function $(){return s===void 0?a:w(j())}function T(){var n=j(),c=L(n);if(o=arguments,r=this,f=n,c){if(s===void 0)return P(f);if(d)return s=setTimeout(m,t),h(f)}return s===void 0&&(s=setTimeout(m,t)),a}return T.cancel=A,T.flush=$,T}function C(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function V(e){return!!e&&typeof e=="object"}function Y(e){return typeof e=="symbol"||V(e)&&z.call(e)==F}function O(e){if(typeof e=="number")return e;if(Y(e))return I;if(C(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=C(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(H,"");var i=W.test(e);return i||B.test(e)?_(e.slice(2),i?2:8):N.test(e)?I:+e}var Z=Q;const S=document.querySelector(".input"),b=document.querySelector(".gallery");let v;async function k(){try{const i=(await(await fetch("https://tasty-treats-backend.p.goit.global/api/recipes")).json()).totalPages,o=[];for(let a=1;a<=i;a+=1)o.push(te(a));const l=(await Promise.all(o)).flatMap(a=>a.results);return console.log("Усі рецепти:",l),l}catch(e){return console.error("Помилка під час виконання запиту:",e),null}}function M(e,t){if(e&&e.length>0){const i=e.filter(r=>r.title&&r.title.toLowerCase().includes(t.toLowerCase())).map(r=>r.title);console.log("Заголовки за ключовим словом:",i);const o=e.filter(r=>r.title&&r.title.toLowerCase().includes(t.toLowerCase())).map(r=>ee(r));b.innerHTML="",o.forEach(r=>{b.appendChild(r)})}else console.log("Немає даних для виведення заголовків"),b.innerHTML=""}function ee(e){const t=document.createElement("div");t.classList.add("card");const i=document.createElement("h2");i.textContent=e.title,t.appendChild(i);const o=document.createElement("p");return o.textContent=e.description,t.appendChild(o),t}async function te(e){try{return await(await fetch(`https://tasty-treats-backend.p.goit.global/api/recipes?page=${e}`)).json()}catch(t){return console.error("Помилка під час виконання запиту:",t),null}}async function ne(){const e=await k();M(e)}ne();async function re(e){const t=await k();M(t,e)}const ie=Z(re,300);S.addEventListener("input",()=>{const e=S.value.trim();clearTimeout(v),e.length>0?v=setTimeout(()=>{ie(e)},300):(console.log("Введіть ключове слово для пошуку"),clearTimeout(v),b.innerHTML="")});
