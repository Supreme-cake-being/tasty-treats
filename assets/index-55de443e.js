import"./main-b45a508b.js";var g=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},A="Expected a function",x=0/0,$="[object Symbol]",B=/^\s+|\s+$/g,F=/^[-+]0x[0-9a-f]+$/i,H=/^0b[01]+$/i,N=/^0o[0-7]+$/i,W=parseInt,D=typeof g=="object"&&g&&g.Object===Object&&g,_=typeof self=="object"&&self&&self.Object===Object&&self,q=D||_||Function("return this")(),G=Object.prototype,U=G.toString,X=Math.max,z=Math.min,v=function(){return q.Date.now()};function J(e,t,i){var o,n,f,a,s,l,u=0,E=!1,d=!1,y=!0;if(typeof e!="function")throw new TypeError(A);t=I(t)||0,C(i)&&(E=!!i.leading,d="maxWait"in i,f=d?X(I(i.maxWait)||0,t):f,y="trailing"in i?!!i.trailing:y);function h(r){var c=o,p=n;return o=n=void 0,u=r,a=e.apply(p,c),a}function S(r){return u=r,s=setTimeout(m,t),E?h(r):a}function M(r){var c=r-l,p=r-u,w=t-c;return d?z(w,f-p):w}function L(r){var c=r-l,p=r-u;return l===void 0||c>=t||c<0||d&&p>=f}function m(){var r=v();if(L(r))return k(r);s=setTimeout(m,M(r))}function k(r){return s=void 0,y&&o?h(r):(o=n=void 0,a)}function R(){s!==void 0&&clearTimeout(s),u=0,o=l=n=s=void 0}function P(){return s===void 0?a:k(v())}function T(){var r=v(),c=L(r);if(o=arguments,n=this,l=r,c){if(s===void 0)return S(l);if(d)return s=setTimeout(m,t),h(l)}return s===void 0&&(s=setTimeout(m,t)),a}return T.cancel=R,T.flush=P,T}function C(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function K(e){return!!e&&typeof e=="object"}function Q(e){return typeof e=="symbol"||K(e)&&U.call(e)==$}function I(e){if(typeof e=="number")return e;if(Q(e))return x;if(C(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=C(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(B,"");var i=H.test(e);return i||N.test(e)?W(e.slice(2),i?2:8):F.test(e)?x:+e}var V=J;const O=document.querySelector(".input"),b=document.querySelector(".gallery");let j;async function Y(){try{const i=(await(await fetch("https://tasty-treats-backend.p.goit.global/api/recipes")).json()).totalPages,o=[];for(let a=1;a<=i;a+=1)o.push(te(a));return(await Promise.all(o)).flatMap(a=>a.results)}catch(e){return console.error("Помилка під час виконання запиту:",e),null}}function Z(e,t){if(e&&e.length>0){const i=e.filter(n=>n.title&&n.title.toLowerCase().includes(t.toLowerCase())).map(n=>n.title);console.log("Заголовки за ключовим словом:",i);const o=e.filter(n=>n.title&&n.title.toLowerCase().includes(t.toLowerCase())).map(n=>ee(n));b.innerHTML="",o.forEach(n=>{b.appendChild(n)})}else console.log("Немає даних для виведення заголовків"),b.innerHTML=""}function ee(e){const t=document.createElement("div");t.classList.add("card");const i=document.createElement("div");i.classList.add("card-background"),i.style.backgroundImage=`url(${e.preview})`,t.appendChild(i);const o=document.createElement("h2");o.textContent=e.title,t.appendChild(o);const n=document.createElement("p");return n.textContent=e.description,t.appendChild(n),t}async function te(e){try{return await(await fetch(`https://tasty-treats-backend.p.goit.global/api/recipes?page=${e}`)).json()}catch(t){return console.error("Помилка під час виконання запиту:",t),null}}async function ne(e){const t=await Y();Z(t,e)}const re=V(ne,300);O.addEventListener("input",()=>{const e=O.value.trim();clearTimeout(j),e.length>0?j=setTimeout(()=>{re(e)},300):(console.log("Введіть ключове слово для пошуку"),clearTimeout(j),b.innerHTML="")});
